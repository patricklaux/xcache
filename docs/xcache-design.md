
### Bean 构建与装配

**Spring**：

1. 多数情况下，实现同一接口的Bean有且仅有一个，可以根据类型找到对应的Bean。
2. 当存在多个实现相同接口的Bean时，调用者明确知道自己该使用哪个，代码中已指定。
3. 多数情况下，生成的Bean是直接给调用者使用。



**Cache**：

1. 实现同一接口的Bean同时有多个，必须根据id来查找对应的Bean。
2. 有一个或多个调用者，每个调用者要求的Bean为不同实现。
3. 多数情况下，先生成BeanProvider（工厂类），然后再生成Bean给调用者使用。



对比发现，Cache的Bean构建和装配无法脱离具体配置，为了降低配置复杂度和扩展复杂度，Xcache做了以下几方面的工作：

1. 设定默认配置；

设计和编码过程中，实现正确的结果并不难，最难的是如何平衡和取舍。  
是否需要增加工厂类？还是要再为工厂类增加一个工厂类？  
配置应该更加简单点？还是灵活性更强一点？  
应该使用反射？还是手动编码？  
同级缓存是否可以配置多个缓存实例？  
每个缓存是否可以单独配置enableCacheProxy？  
enableCacheProxy 还是 useCacheProxy 好？  
是否要增加 singleton 配置？  


